<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>배정 좌석 확인</title>
    <link rel="stylesheet" href="../css/checkMySeat.css" />
</head>

<body>
<div class="container">
    <div class="rectangle">
        <div class="content">
            <div class="UserInformation">
                <div class="userImage">
                    <img src="/img/user.png" alt="User Image" />
                </div>
                <div class="userInfo">
                    <div class="title">My profile</div>
                    <div class="userID" id="userID"></div>
                    <div class="userMajor" id="major"></div>
                </div>
            </div>
            <div class="seatInfo">
                <div class="title">My seat Infomation</div>
                <div class="location" id="location"></div>
                <div class="seatNumber" id="seatNum"></div>
                <div class="rentedTime" id="rentedTime"></div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        fetch("/servlet/checkMySeat")
            .then(response => response.json())
            .then(user => {
                if (user) {
                    document.getElementById("userID").textContent = `ID: ${user.userID}`;
                    document.getElementById("major").textContent = `Major: ${user.major}`;
                    document.getElementById("location").textContent = `Location: ${user.location}`;
                    document.getElementById("seatNum").textContent = `Seat Number: ${user.seatNum}`;
                    document.getElementById("rentedTime").textContent = `Check-in time: ${user.rentedTime}`;
                } else {
                    document.getElementById("welcomeMessage").textContent = "No user is logged in.";
                }
            })
            .catch(error => {
                console.error("Error fetching user session:", error);
                document.getElementById("welcomeMessage").textContent = "Error loading user information.";
            });
    });
</script>
</body>
</html>